(function(t,n){"use strict";var e=n(document);const o="js-content-entity-body";var c="js-related-video";const r="."+o;var s="."+c;const i=function(t,n){const e=t.querySelectorAll(n);const o=[];for(let n=0;n<e.length;n++){const c=e[n];const r=c.parentNode;if(r===t){o.push(c)}}return o};const l=function(t,n){const e=i(t,"p:not(:empty)");if(e.length<3){return}const o=e[1].nextElementSibling;t.insertBefore(n,o)};const u=function(){const t=document.body.querySelectorAll(r+":not([data-in-content-related-player])");if(t.length<1){return}for(let n=0;n<t.length;n++){const e=t[n];e.setAttribute("data-in-content-related-player","1");const o=e.querySelector(s);if(o){l(e,o)}}};e.on("ajaxContentLoaded",(function(){u()}));n((function(){u()}))})(this,jQuery);
(function(e,n){"use strict";var t=e.scrollMonitor;if(!t){return}var i=n(document);const o=e.Phoenix||{};const a=o.VideoPlayer?o.VideoPlayer.log:function(){};var r="js-play-on-scroll--initialized";var s="js-play-on-scroll";var u="."+s;var l="."+s+" .js-video-player-new";var c=function(){var n,t;return function(i){if(t===undefined){n=e.Phoenix;if(n){t=n.VideoPlayer}if(!t){t=null}}if(!t||typeof t.getInstance!=="function"){return}return t.getInstance(i)}}();var f=function(e){var n=e.closest(u);if(!n||n.length<1||n.hasClass(r)){return}n.addClass(r);var i=t.create(e),o;const s=function(){if(o.states.autoplay){let e;const t=function(){o.off("userPaused",e);i.destroy()};i.on("exitViewport",(function(){a("[RELATED AUTOPLAY] Auto-pause -- Autoplayed video scrolled out of view");o.pause();i.one("enterViewport",(function(){a("[RELATED AUTOPLAY' Auto-resume -- Autoplayed video scrolled back into view");o.resume()}))}));o.on("userPaused",e=function(){a("[RELATED AUTOPLAY] Stop watching player -- User paused autoplay video");t()});o.once("disable",(function(){a("[RELATED AUTOPLAY] Stop watching player -- player disabled");n.removeClass(r);t()}))}};var l=function(){o=c(e.data("id"));if(!o){return}if(!o.states.started){o.once("play",(function(){s()}))}};if(!e.data("playerInitialized")){e.on("playerInitialized",(function(){l()}))}else{l()}};i.on("playerInitialized",l,(function(){f(n(this))}));n((function(){var e=n(l);if(!e||e.length<1){return}e.each((function(){f(n(this))}))}))})(this,jQuery);